<form class="form-horizontal" autocomplete="off" #approveForm="ngForm" novalidate>
    <div class="card-header">
        <h3> Approve Request</h3>
    </div>
    <div class="modal-body">
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="tenancyName">
                User:
            </label>
            <div class="col-9">
                <mat-form-field class="w-100" appearance="outline">
                    <mat-select [(ngModel)]="resourcerequest.userId" name="projectEmployee" placeholder="select a role"
                        required #projectEmployee="ngModel">
                        <mat-form-field class="w-100 px-3 "
                            style="position: sticky; top: 0; z-index: 2; background-color: white;">
                            <input matInput [(ngModel)]="searchUser" name="searchUser" placeholder="search">
                        </mat-form-field>
                        <mat-option *ngFor="let user of userList |filter:searchUser" [value]="user.id">
                            {{user.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-error class="mt-1" *ngIf="projectEmployee.hasError('required') && projectEmployee.touched"
                    style="font-size: 13px;">
                    This field is required
                </mat-error>
            </div>
        </div>
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="tenancyName">
                Role:
            </label>
            <div class="col-9">
                <mat-form-field class="w-100 mx-auto" appearance="outline">
                    <mat-select [(ngModel)]="resourcerequest.projectRole" name="projectrole" placeholder="select a role"
                        required #projectPM="ngModel">
                        <mat-option *ngFor="let role of projectRoleList" [value]="APP_ENUM.ProjectUserRole[role]">
                            {{role}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-error class="mt-1" *ngIf="projectPM.hasError('required') && projectPM.touched"
                    style="font-size: 13px;">
                    This field is required
                </mat-error>
            </div>

        </div>
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="tenancyName">
                Start time:
            </label>
            <div class="col-9">
                <mat-form-field appearance="outline">
                    <input matInput [matDatepicker]="picker" placeholder="chose a date" required
                        [(ngModel)]="resourcerequest.startTime" name="usercreateDate">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
        </div>
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="tenancyName">
                allocatePercentage:
            </label>
            <div class="col-9">
                <input class="form-control mt-1" placeholder="number" name="allocatePercentage" type="text" required
                    mask="percent" suffix="%" [(ngModel)]="resourcerequest.allocatePercentage" #allocatePercentage="ngModel" #allocatePercentageEl/>
                    <abp-validation-summary [control]="allocatePercentage" [controlEl]="allocatePercentageEl">
                    </abp-validation-summary>
            </div>
        </div>
    </div>
    <div align="end" class="justify-content-between" mat-dialog-actions="">
        <button class="btn btn-default" mat-dialog-close>Cancel</button>
        <button class="btn btn-primary" (click)="saveAndClose()" [disabled]="!approveForm.valid || isLoading">Save</button>
    </div>
</form>